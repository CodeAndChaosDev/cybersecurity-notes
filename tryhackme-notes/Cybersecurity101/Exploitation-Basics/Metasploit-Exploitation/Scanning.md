# Port Scanning with Metasploit 

## Introduction 
Metasploit provides tools for scanning open ports on target systems and networks. Users can explore available port scanning modules and use them to gather information about services running on a host. 

## Key Points 

1. Port Scanning Modules: Users can find available port scanning modules with the command `search portscan`. Several modules are available, such as: 

• Wordpress Pingback Locator 

• NAT-PMP External Port Scanner 

• TCP ACK Firewall Scanner 

• FTP Bounce Port Scanner 

• TCP SYN Port Scanner 

• TCP Port Scanner 

• TCP "XMas" Port Scanner 

• SAPRouter Port Scanner 

2. Interacting with Modules: To interact with a module, use its name or index, like `use 7` for the SAPRouter Port Scanner. 

3. Port Scan Options: Each port scanning module requires specific options to be set, which include: 

• CONCURRENCY: Number of concurrent ports to check per host. 

• DELAY: Delay in milliseconds between connections per thread. 

• JITTER: Delay jitter factor. 

• PORTS: Range of ports to scan. 

• RHOSTS: Target host or network. 

• THREADS: Number of threads for concurrent scanning. 

• TIMEOUT: Socket connection timeout in milliseconds. 

4. Using Nmap in Metasploit: Users can run Nmap scans directly from the msfconsole. An example command would be `nmap -sS 10. 10. 12. 229`. This shows the open ports of the target IP. 

5. UDP Service Identification: The `scanner/discovery/udp_sweep` module identifies UDP services quickly. It is not exhaustive but is efficient for detecting services like DNS or NetBIOS. 

6. SMB Scans: Metasploit includes auxiliary modules for scanning specific services, such as SMB. Examples include `smb_enumshares` and `smb_version` to identify running services and their versions, which can reveal valuable information about the target system. 

7. Significance of Exotic Services: It’s essential to check uncommon services, such as NetBIOS, which can provide insights into the target’s role and potential vulnerabilities. These services might have easily accessible shared files or folders. 

## Conclusion 
Metasploit offers a range of modules for effective port scanning and information gathering on target systems. By understanding the different modules and how to use them, users can uncover potential vulnerabilities and gain a better understanding of their targets. Regularly searching for new modules is recommended to stay informed about available scanning options.

# Try Hack Me Write Up

- Q: How many ports are open on the target system?
- A: 5
- C: We can use nmap or scanner from msfconsole like suggested.
Nmap command: namp -sC -sV MACHINE_IP -vv 

msfconsolle: search portscan
             use (the one you feel its better for you)
             set RHOSTS MACHINE_IP

- Q: Using the relevant scanner, what NetBIOS name can you see?
- A: ACME IT SUPPORT

- Q: What is running on port 8000?
- A: webfs/1.21

- Q: What is the "penny" user's SMB password? Use the wordlist mentioned in the previous task.
- A leo1234

- C: For this one we need msfoncsole module auxiliary/scanner/smb/smb_login. If you cant find it use " search smb_login " then " use 0 ".
 After we need to set (PASS_FILE, RHOSTS, SMBUser) as (/usr/share/wordlists/MetasploitRoom/MetasploitWordlist.txt, MACHINE_IP, penny)
 After that just exploit and u get the password "leo1234". 


 